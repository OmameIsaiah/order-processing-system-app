{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { ConfirmDeleteOrderModalComponent } from '../components/orders/confirm-delete-order-modal/confirm-delete-order-modal.component';\nimport { ConfirmCancelOrderModalComponent } from '../components/orders/confirm-cancel-order-modal/confirm-cancel-order-modal.component';\nimport { ViewOrderModalComponent } from '../components/orders/view-order-modal/view-order-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../services/config.service\";\nimport * as i3 from \"../services/notification.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/progress-spinner\";\nimport * as i10 from \"@angular/material/paginator\";\nfunction OrdersComponent_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Order UUID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(order_r15.orderUuid);\n  }\n}\nfunction OrdersComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"User ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(order_r16.userId);\n  }\n}\nfunction OrdersComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Product\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(order_r17.product);\n  }\n}\nfunction OrdersComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Quantity\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(order_r18.quantity);\n  }\n}\nfunction OrdersComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Status\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(order_r19.status);\n  }\n}\nfunction OrdersComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Actions\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrdersComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_td_22_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const order_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.openViewOrderModal(order_r20));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"visibility\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_td_22_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const order_r20 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.openCancelOrderModal(order_r20.orderUuid));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_td_22_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const order_r20 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.openDeleteOrderModal(order_r20.orderUuid));\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction OrdersComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction OrdersComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\nfunction OrdersComponent_mat_spinner_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 20);\n  }\n}\nconst _c0 = function () {\n  return [\"orderUuid\", \"userId\", \"product\", \"quantity\", \"status\", \"actions\"];\n};\nconst _c1 = function () {\n  return [5, 10, 25, 50];\n};\nexport class OrdersComponent {\n  constructor(http, configService, notificationService, dialog) {\n    this.http = http;\n    this.configService = configService;\n    this.notificationService = notificationService;\n    this.dialog = dialog;\n    this.orders = [];\n    this.isLoading = false;\n    this.currentPage = 0;\n    this.pageSize = 10;\n    this.totalRecords = 0;\n  }\n  ngOnInit() {\n    this.loadOrders();\n  }\n  loadOrders() {\n    this.isLoading = true;\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(`${this.configService.ORDER_SERVICE_BASE_URL}/orders?page=${this.currentPage}&size=${this.pageSize}`, {\n      headers\n    }).subscribe(response => {\n      this.orders = response.data;\n      this.totalRecords = response.meta.totalRecords;\n      this.isLoading = false;\n    }, error => {\n      this.isLoading = false;\n      this.notificationService.showNotification(error.error.message || 'Failed to load orders', 'error');\n    });\n  }\n  onPageChange(event) {\n    this.currentPage = event.pageIndex;\n    this.pageSize = event.pageSize;\n    this.loadOrders();\n  }\n  openDeleteOrderModal(orderUuid) {\n    const dialogRef = this.dialog.open(ConfirmDeleteOrderModalComponent, {\n      width: '300px',\n      data: {\n        orderUuid\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadOrders(); // Reload orders after deleting\n      }\n    });\n  }\n  // orders.component.ts\n  openCancelOrderModal(orderUuid) {\n    const dialogRef = this.dialog.open(ConfirmCancelOrderModalComponent, {\n      width: '300px',\n      data: {\n        orderUuid\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadOrders(); // Reload orders after canceling\n      }\n    });\n  }\n\n  openViewOrderModal(order) {\n    this.dialog.open(ViewOrderModalComponent, {\n      width: '400px',\n      data: {\n        order\n      }\n    });\n  }\n  static {\n    this.ɵfac = function OrdersComponent_Factory(t) {\n      return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ConfigService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.MatDialog));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrdersComponent,\n      selectors: [[\"app-orders\"]],\n      decls: 27,\n      vars: 10,\n      consts: [[1, \"orders-container\"], [1, \"header\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"orderUuid\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"userId\"], [\"matColumnDef\", \"product\"], [\"matColumnDef\", \"quantity\"], [\"matColumnDef\", \"status\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\"], [\"class\", \"spinner\", 4, \"ngIf\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"spinner\"]],\n      template: function OrdersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"List of Orders\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"table\", 2);\n          i0.ɵɵelementContainerStart(5, 3);\n          i0.ɵɵtemplate(6, OrdersComponent_th_6_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(7, OrdersComponent_td_7_Template, 2, 1, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(8, 6);\n          i0.ɵɵtemplate(9, OrdersComponent_th_9_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(10, OrdersComponent_td_10_Template, 2, 1, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(11, 7);\n          i0.ɵɵtemplate(12, OrdersComponent_th_12_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(13, OrdersComponent_td_13_Template, 2, 1, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(14, 8);\n          i0.ɵɵtemplate(15, OrdersComponent_th_15_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(16, OrdersComponent_td_16_Template, 2, 1, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(17, 9);\n          i0.ɵɵtemplate(18, OrdersComponent_th_18_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(19, OrdersComponent_td_19_Template, 2, 1, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(20, 10);\n          i0.ɵɵtemplate(21, OrdersComponent_th_21_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(22, OrdersComponent_td_22_Template, 10, 0, \"td\", 5);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(23, OrdersComponent_tr_23_Template, 1, 0, \"tr\", 11);\n          i0.ɵɵtemplate(24, OrdersComponent_tr_24_Template, 1, 0, \"tr\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"mat-paginator\", 13);\n          i0.ɵɵlistener(\"page\", function OrdersComponent_Template_mat_paginator_page_25_listener($event) {\n            return ctx.onPageChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, OrdersComponent_mat_spinner_26_Template, 1, 0, \"mat-spinner\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"dataSource\", ctx.orders);\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(7, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(8, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"length\", ctx.totalRecords)(\"pageSize\", ctx.pageSize)(\"pageSizeOptions\", i0.ɵɵpureFunction0(9, _c1));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i5.NgIf, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, i7.MatIcon, i8.MatIconButton, i9.MatProgressSpinner, i10.MatPaginator],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["HttpHeaders","ConfirmDeleteOrderModalComponent","ConfirmCancelOrderModalComponent","ViewOrderModalComponent","i0","OrdersComponent","constructor","http","configService","notificationService","dialog","ngOnInit","loadOrders","isLoading","token","localStorage","getItem","headers","set","get","ORDER_SERVICE_BASE_URL","currentPage","pageSize","subscribe","response","orders","data","totalRecords","meta","error","showNotification","message","onPageChange","event","pageIndex","openDeleteOrderModal","orderUuid","dialogRef","open","width","afterClosed","result","openCancelOrderModal","openViewOrderModal","order","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Isaiah\\Business\\Neptune-Microfinance-Bank\\order-processing-system-app\\src\\app\\orders\\orders.component.ts","C:\\Isaiah\\Business\\Neptune-Microfinance-Bank\\order-processing-system-app\\src\\app\\orders\\orders.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { NotificationService } from '../services/notification.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ConfirmDeleteOrderModalComponent } from '../components/orders/confirm-delete-order-modal/confirm-delete-order-modal.component';\nimport { ConfirmCancelOrderModalComponent } from '../components/orders/confirm-cancel-order-modal/confirm-cancel-order-modal.component';\nimport { ViewOrderModalComponent } from '../components/orders/view-order-modal/view-order-modal.component';\nimport { ConfigService } from '../services/config.service';\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.component.html',\n  styleUrls: ['./orders.component.css'],\n})\nexport class OrdersComponent implements OnInit {\n  orders: any[] = [];\n  isLoading = false;\n  currentPage = 0;\n  pageSize = 10;\n  totalRecords = 0;\n\n  constructor(\n    private http: HttpClient,\n    private configService: ConfigService,\n    private notificationService: NotificationService,\n    private dialog: MatDialog\n  ) {}\n\n  ngOnInit(): void {\n    this.loadOrders();\n  }\n\n  loadOrders(): void {\n    this.isLoading = true;\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n\n    this.http\n      .get(`${this.configService.ORDER_SERVICE_BASE_URL}/orders?page=${this.currentPage}&size=${this.pageSize}`, { headers })\n      .subscribe(\n        (response: any) => {\n          this.orders = response.data;\n          this.totalRecords = response.meta.totalRecords;\n          this.isLoading = false;\n        },\n        (error) => {\n          this.isLoading = false;\n          this.notificationService.showNotification(\n            error.error.message || 'Failed to load orders',\n            'error'\n          );\n        }\n      );\n  }\n\n  onPageChange(event: any): void {\n    this.currentPage = event.pageIndex;\n    this.pageSize = event.pageSize;\n    this.loadOrders();\n  }\n\n  openDeleteOrderModal(orderUuid: string): void {\n    const dialogRef = this.dialog.open(ConfirmDeleteOrderModalComponent, {\n      width: '300px',\n      data: { orderUuid },\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadOrders(); // Reload orders after deleting\n      }\n    });\n  }\n\n  // orders.component.ts\nopenCancelOrderModal(orderUuid: string): void {\n  const dialogRef = this.dialog.open(ConfirmCancelOrderModalComponent, {\n    width: '300px',\n    data: { orderUuid },\n  });\n\n  dialogRef.afterClosed().subscribe((result) => {\n    if (result) {\n      this.loadOrders(); // Reload orders after canceling\n    }\n  });\n}\n\nopenViewOrderModal(order: any): void {\n  this.dialog.open(ViewOrderModalComponent, {\n    width: '400px',\n    data: { order },\n  });\n}\n}","<div class=\"orders-container\">\n    <div class=\"header\">\n      <h2>List of Orders</h2>\n    </div>\n  \n    <table mat-table [dataSource]=\"orders\" class=\"mat-elevation-z8\">\n      <!-- Order UUID Column -->\n      <ng-container matColumnDef=\"orderUuid\">\n        <th mat-header-cell *matHeaderCellDef>Order UUID</th>\n        <td mat-cell *matCellDef=\"let order\">{{ order.orderUuid }}</td>\n      </ng-container>\n  \n      <!-- User ID Column -->\n      <ng-container matColumnDef=\"userId\">\n        <th mat-header-cell *matHeaderCellDef>User ID</th>\n        <td mat-cell *matCellDef=\"let order\">{{ order.userId }}</td>\n      </ng-container>\n  \n      <!-- Product Column -->\n      <ng-container matColumnDef=\"product\">\n        <th mat-header-cell *matHeaderCellDef>Product</th>\n        <td mat-cell *matCellDef=\"let order\">{{ order.product }}</td>\n      </ng-container>\n  \n      <!-- Quantity Column -->\n      <ng-container matColumnDef=\"quantity\">\n        <th mat-header-cell *matHeaderCellDef>Quantity</th>\n        <td mat-cell *matCellDef=\"let order\">{{ order.quantity }}</td>\n      </ng-container>\n  \n      <!-- Status Column -->\n      <ng-container matColumnDef=\"status\">\n        <th mat-header-cell *matHeaderCellDef>Status</th>\n        <td mat-cell *matCellDef=\"let order\">{{ order.status }}</td>\n      </ng-container>\n  \n      <!-- Actions Column -->\n      <ng-container matColumnDef=\"actions\">\n        <th mat-header-cell *matHeaderCellDef>Actions</th>\n        <td mat-cell *matCellDef=\"let order\">\n          <button mat-icon-button (click)=\"openViewOrderModal(order)\">\n            <mat-icon>visibility</mat-icon>\n          </button>\n          <button mat-icon-button (click)=\"openCancelOrderModal(order.orderUuid)\">\n            <mat-icon>cancel</mat-icon>\n          </button>\n          <button mat-icon-button (click)=\"openDeleteOrderModal(order.orderUuid)\">\n            <mat-icon>delete</mat-icon>\n          </button>\n        </td>\n      </ng-container>\n  \n      <!-- Table Rows -->\n      <tr mat-header-row *matHeaderRowDef=\"['orderUuid', 'userId', 'product', 'quantity', 'status', 'actions']\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: ['orderUuid', 'userId', 'product', 'quantity', 'status', 'actions']\"></tr>\n    </table>\n  \n    <!-- Pagination -->\n    <mat-paginator\n      [length]=\"totalRecords\"\n      [pageSize]=\"pageSize\"\n      [pageSizeOptions]=\"[5, 10, 25, 50]\"\n      (page)=\"onPageChange($event)\"\n    ></mat-paginator>\n  \n    <mat-spinner *ngIf=\"isLoading\" class=\"spinner\"></mat-spinner>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}