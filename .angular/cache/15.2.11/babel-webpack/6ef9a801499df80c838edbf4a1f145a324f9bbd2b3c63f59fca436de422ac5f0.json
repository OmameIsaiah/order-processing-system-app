{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { AddProductModalComponent } from '../components/products/add-product-modal/add-product-modal.component';\nimport { EditProductModalComponent } from '../components/products/edit-product-modal/edit-product-modal.component';\nimport { ConfirmDeleteModalComponent } from '../components/products/confirm-delete-modal/confirm-delete-modal.component';\nimport { ViewProductModalComponent } from '../components/products/view-product-modal/view-product-modal.component';\nimport { OrderProductModalComponent } from '../components/products/order-product-modal/order-product-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../services/config.service\";\nimport * as i3 from \"../services/notification.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/progress-spinner\";\nfunction ProductsComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"UUID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r13.uuid);\n  }\n}\nfunction ProductsComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r14.name);\n  }\n}\nfunction ProductsComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Quantity\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r15.quantity);\n  }\n}\nfunction ProductsComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Unit Price\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, product_r16.unitPrice));\n  }\n}\nfunction ProductsComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Actions\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_td_22_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.openEditProductModal(product_r17));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_td_22_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.openDeleteConfirmationModal(product_r17.uuid));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_td_22_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.openViewProductModal(product_r17));\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"visibility\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_td_22_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.openOrderProductModal(product_r17));\n    });\n    i0.ɵɵelementStart(11, \"mat-icon\");\n    i0.ɵɵtext(12, \"shopping_cart\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProductsComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction ProductsComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\nfunction ProductsComponent_mat_spinner_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 20);\n  }\n}\nconst _c0 = function () {\n  return [\"uuid\", \"name\", \"quantity\", \"unitPrice\", \"actions\"];\n};\nexport class ProductsComponent {\n  constructor(http, configService, notificationService, dialog) {\n    this.http = http;\n    this.configService = configService;\n    this.notificationService = notificationService;\n    this.dialog = dialog;\n    this.products = [];\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.isLoading = true;\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(`${this.configService.ORDER_SERVICE_BASE_URL}/products?page=0&size=50`, {\n      headers\n    }).subscribe(response => {\n      this.products = response.data;\n      this.isLoading = false;\n    }, error => {\n      this.isLoading = false;\n      this.notificationService.showNotification(error.error.message || 'Failed to load products', 'error');\n    });\n  }\n  // products.component.ts\n  openAddProductModal() {\n    const dialogRef = this.dialog.open(AddProductModalComponent, {\n      width: '400px'\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadProducts(); // Reload products after adding\n      }\n    });\n  }\n\n  openEditProductModal(product) {\n    const dialogRef = this.dialog.open(EditProductModalComponent, {\n      width: '400px',\n      data: {\n        product\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadProducts(); // Reload products after updating\n      }\n    });\n  }\n\n  openDeleteConfirmationModal(productUuid) {\n    const dialogRef = this.dialog.open(ConfirmDeleteModalComponent, {\n      width: '300px',\n      data: {\n        productUuid\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadProducts(); // Reload products after deleting\n      }\n    });\n  }\n\n  openViewProductModal(product) {\n    this.dialog.open(ViewProductModalComponent, {\n      width: '400px',\n      data: {\n        product\n      } // Pass the product data\n    });\n  }\n  // Add this method\n  openOrderProductModal(product) {\n    const dialogRef = this.dialog.open(OrderProductModalComponent, {\n      width: '400px',\n      data: {\n        product\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadProducts(); // Reload products after ordering\n      }\n    });\n  }\n\n  static {\n    this.ɵfac = function ProductsComponent_Factory(t) {\n      return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ConfigService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.MatDialog));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 26,\n      vars: 6,\n      consts: [[1, \"products-container\"], [1, \"header\"], [1, \"add-product-button\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"uuid\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"quantity\"], [\"matColumnDef\", \"unitPrice\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"spinner\", 4, \"ngIf\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"spinner\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_5_listener() {\n            return ctx.openAddProductModal();\n          });\n          i0.ɵɵtext(6, \" Add Product \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"table\", 4);\n          i0.ɵɵelementContainerStart(8, 5);\n          i0.ɵɵtemplate(9, ProductsComponent_th_9_Template, 2, 0, \"th\", 6);\n          i0.ɵɵtemplate(10, ProductsComponent_td_10_Template, 2, 1, \"td\", 7);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(11, 8);\n          i0.ɵɵtemplate(12, ProductsComponent_th_12_Template, 2, 0, \"th\", 6);\n          i0.ɵɵtemplate(13, ProductsComponent_td_13_Template, 2, 1, \"td\", 7);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(14, 9);\n          i0.ɵɵtemplate(15, ProductsComponent_th_15_Template, 2, 0, \"th\", 6);\n          i0.ɵɵtemplate(16, ProductsComponent_td_16_Template, 2, 1, \"td\", 7);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(17, 10);\n          i0.ɵɵtemplate(18, ProductsComponent_th_18_Template, 2, 0, \"th\", 6);\n          i0.ɵɵtemplate(19, ProductsComponent_td_19_Template, 3, 3, \"td\", 7);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(20, 11);\n          i0.ɵɵtemplate(21, ProductsComponent_th_21_Template, 2, 0, \"th\", 6);\n          i0.ɵɵtemplate(22, ProductsComponent_td_22_Template, 13, 0, \"td\", 7);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(23, ProductsComponent_tr_23_Template, 1, 0, \"tr\", 12);\n          i0.ɵɵtemplate(24, ProductsComponent_tr_24_Template, 1, 0, \"tr\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(25, ProductsComponent_mat_spinner_25_Template, 1, 0, \"mat-spinner\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"dataSource\", ctx.products);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(4, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(5, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i5.NgIf, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, i7.MatIcon, i8.MatButton, i8.MatIconButton, i9.MatProgressSpinner, i5.CurrencyPipe],\n      styles: [\".products-container[_ngcontent-%COMP%] {\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.header[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.add-product-button[_ngcontent-%COMP%] {\\r\\n    margin-left: auto;\\r\\n    \\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.mat-elevation-z8[_ngcontent-%COMP%] {\\r\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    margin: 20px auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsbUNBQW1DO0FBQ3ZDOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3RzLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG59XHJcblxyXG4uaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmFkZC1wcm9kdWN0LWJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIC8qIEFsaWducyB0aGUgYnV0dG9uIHRvIHRoZSByaWdodCAqL1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLm1hdC1lbGV2YXRpb24tejgge1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxufVxyXG5cclxuLnNwaW5uZXIge1xyXG4gICAgbWFyZ2luOiAyMHB4IGF1dG87XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["HttpHeaders","AddProductModalComponent","EditProductModalComponent","ConfirmDeleteModalComponent","ViewProductModalComponent","OrderProductModalComponent","i0","ProductsComponent","constructor","http","configService","notificationService","dialog","ngOnInit","loadProducts","isLoading","token","localStorage","getItem","headers","set","get","ORDER_SERVICE_BASE_URL","subscribe","response","products","data","error","showNotification","message","openAddProductModal","dialogRef","open","width","afterClosed","result","openEditProductModal","product","openDeleteConfirmationModal","productUuid","openViewProductModal","openOrderProductModal","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Isaiah\\Business\\Neptune-Microfinance-Bank\\order-processing-system-app\\src\\app\\products\\products.component.ts","C:\\Isaiah\\Business\\Neptune-Microfinance-Bank\\order-processing-system-app\\src\\app\\products\\products.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { NotificationService } from '../services/notification.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddProductModalComponent } from '../components/products/add-product-modal/add-product-modal.component';\nimport { EditProductModalComponent } from '../components/products/edit-product-modal/edit-product-modal.component';\nimport { ConfirmDeleteModalComponent } from '../components/products/confirm-delete-modal/confirm-delete-modal.component';\nimport { ViewProductModalComponent } from '../components/products/view-product-modal/view-product-modal.component';\nimport { OrderProductModalComponent } from '../components/products/order-product-modal/order-product-modal.component'; \nimport { ConfigService } from '../services/config.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css'],\n})\nexport class ProductsComponent implements OnInit {\n  products: any[] = [];\n  isLoading = false;\n\n  constructor(\n    private http: HttpClient,\n    private configService: ConfigService,\n    private notificationService: NotificationService,\n    private dialog: MatDialog\n  ) { }\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n  loadProducts(): void {\n    this.isLoading = true;\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n\n    this.http\n      .get(`${this.configService.ORDER_SERVICE_BASE_URL}/products?page=0&size=50`, { headers })\n      .subscribe(\n        (response: any) => {\n          this.products = response.data;\n          this.isLoading = false;\n        },\n        (error) => {\n          this.isLoading = false;\n          this.notificationService.showNotification(\n            error.error.message || 'Failed to load products',\n            'error'\n          );\n        }\n      );\n  }\n\n  // products.component.ts\n  openAddProductModal(): void {\n    const dialogRef = this.dialog.open(AddProductModalComponent, {\n      width: '400px',\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadProducts(); // Reload products after adding\n      }\n    });\n  }\n\n  openEditProductModal(product: any): void {\n    const dialogRef = this.dialog.open(EditProductModalComponent, {\n      width: '400px',\n      data: { product },\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadProducts(); // Reload products after updating\n      }\n    });\n  }\n\n  openDeleteConfirmationModal(productUuid: string): void {\n    const dialogRef = this.dialog.open(ConfirmDeleteModalComponent, {\n      width: '300px',\n      data: { productUuid },\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadProducts(); // Reload products after deleting\n      }\n    });\n  }\n\n  openViewProductModal(product: any): void {\n    this.dialog.open(ViewProductModalComponent, {\n      width: '400px',\n      data: { product }, // Pass the product data\n    });\n  }\n  // Add this method\n  openOrderProductModal(product: any): void {\n    const dialogRef = this.dialog.open(OrderProductModalComponent, {\n      width: '400px',\n      data: { product },\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadProducts(); // Reload products after ordering\n      }\n    });\n  }\n\n}","<div class=\"products-container\">\n  <div class=\"header\">\n    <h2>Products</h2>\n    <div class=\"add-product-button\">\n      <button mat-raised-button color=\"primary\" (click)=\"openAddProductModal()\">\n        Add Product\n      </button>\n    </div>\n  </div>\n\n  <table mat-table [dataSource]=\"products\" class=\"mat-elevation-z8\">\n    <!-- UUID Column -->\n    <ng-container matColumnDef=\"uuid\">\n      <th mat-header-cell *matHeaderCellDef>UUID</th>\n      <td mat-cell *matCellDef=\"let product\">{{ product.uuid }}</td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"name\">\n      <th mat-header-cell *matHeaderCellDef>Name</th>\n      <td mat-cell *matCellDef=\"let product\">{{ product.name }}</td>\n    </ng-container>\n\n    <!-- Quantity Column -->\n    <ng-container matColumnDef=\"quantity\">\n      <th mat-header-cell *matHeaderCellDef>Quantity</th>\n      <td mat-cell *matCellDef=\"let product\">{{ product.quantity }}</td>\n    </ng-container>\n\n    <!-- Unit Price Column -->\n    <ng-container matColumnDef=\"unitPrice\">\n      <th mat-header-cell *matHeaderCellDef>Unit Price</th>\n      <td mat-cell *matCellDef=\"let product\">{{ product.unitPrice | currency }}</td>\n    </ng-container>\n\n    <!-- Actions Column -->\n    <ng-container matColumnDef=\"actions\">\n      <th mat-header-cell *matHeaderCellDef>Actions</th>\n      <td mat-cell *matCellDef=\"let product\">\n        <button mat-icon-button (click)=\"openEditProductModal(product)\">\n          <mat-icon>edit</mat-icon>\n        </button>\n        <button mat-icon-button (click)=\"openDeleteConfirmationModal(product.uuid)\">\n          <mat-icon>delete</mat-icon>\n        </button>\n        <button mat-icon-button (click)=\"openViewProductModal(product)\">\n          <mat-icon>visibility</mat-icon>\n        </button>\n        <button mat-icon-button (click)=\"openOrderProductModal(product)\">\n          <mat-icon>shopping_cart</mat-icon>\n        </button>\n      </td>\n    </ng-container>\n\n    <!-- Table Rows -->\n    <tr mat-header-row *matHeaderRowDef=\"['uuid', 'name', 'quantity', 'unitPrice', 'actions']\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: ['uuid', 'name', 'quantity', 'unitPrice', 'actions']\"></tr>\n  </table>\n\n  <mat-spinner *ngIf=\"isLoading\" class=\"spinner\"></mat-spinner>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}